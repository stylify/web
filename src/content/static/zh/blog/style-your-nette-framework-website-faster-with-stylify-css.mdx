---
title: "ğŸš€ ä½¿ç”¨Stylify CSSä¸ºæ‚¨çš„Nette Frameworkç½‘ç«™æ›´å¿«é€Ÿåœ°è®¾è®¡é£æ ¼"
image: '/images/blog/stylify-nette/header.jpg'
ogImage: '/images/blog/stylify-nette/og-image.jpg'
author: 'VladimÃ­r MachÃ¡Äek'
annotation:  "ç”¨Stylifyæ›´å¿«ã€æ›´ç›´è§‚åœ°ç»™ä½ çš„Netteæ¡†æ¶ç½‘ç«™è®¾è®¡é£æ ¼ã€‚"
createdAt: 'July 9, 2022'
---

ç”¨[Stylify](/)æ›´å¿«åœ°ä¸ºä½ çš„Nette Frameworkç½‘ç«™è®¾è®¡é£æ ¼ã€‚ä¸è¦ç ”ç©¶é€‰æ‹©å™¨å’Œè¯­æ³•ã€‚ä½¿ç”¨çº¯ç²¹çš„CSSè¯­æ³•ï¼Œè·å¾—ç”Ÿæˆçš„CSSï¼Œå¹¶å¯¹ç”Ÿäº§è¿›è¡Œé«˜çº§ä¼˜åŒ–ã€‚

å¯¹äºä¸‹é¢çš„ä¾‹å­ï¼Œä½ å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹[Nette Frameworké›†æˆå®ä¾‹](https://github.com/stylify/integrations-examples/tree/master/nette)ã€‚

## ğŸš€ Netteç®€ä»‹
[Nette](https://nette.org/zh/)æ˜¯ä¸€ä¸ªç”±[David Grudl](https://twitter.com/DavidGrudl)åˆ¶ä½œçš„PHPæ¡†æ¶ï¼Œå®ƒæ˜¯Symfonyå’ŒLaravelçš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£å“ã€‚å®ƒæœ‰ä¸€ä¸ªæƒŠäººçš„æ¨¡æ¿ç³»ç»Ÿï¼Œå«åš[Latte](https://latte.nette.org/)ï¼Œä½¿ç”¨ä¸PHPç±»ä¼¼çš„è¯­æ³•ï¼Œå¹¶ä¸”é»˜è®¤æœ‰ä¸Šä¸‹æ–‡æ•æ„Ÿçš„è½¬ä¹‰ï¼ˆè¿™æ˜¯å…¶ä»–æ¡†æ¶æ‰€æ²¡æœ‰çš„ï¼‰ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒæ›´å®¹æ˜“å­¦ä¹ ï¼Œå› ä¸ºå®ƒé»˜è®¤æœ‰ä¸€ä¸ªç®€å•çš„ç»“æ„ï¼Œå®ƒæ²¡æœ‰ä¾èµ–æ€§ï¼Œéœ€è¦å­¦ä¹ çš„æ¨¡å¼æ›´å°‘ã€‚

## ğŸ’ Stylify CSSç®€ä»‹
[Stylify](/)æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒä½¿ç”¨ç±»ä¼¼äºCSSçš„é€‰æ‹©å™¨ï¼Œæ ¹æ®ä½ å†™çš„å†…å®¹ç”Ÿæˆä¼˜åŒ–çš„å®ç”¨ä¼˜å…ˆçš„CSSã€‚

- âœ… ç±»ä¼¼CSSçš„é€‰æ‹©å™¨
- âœ… ä¸éœ€è¦ç ”ç©¶æ¡†æ¶
- âœ… èŠ±åœ¨æ–‡æ¡£ä¸Šçš„æ—¶é—´æ›´å°‘
- âœ… çº ç»“&æå°çš„CSS
- âœ… ä¸éœ€è¦æ¸…é™¤CSS
- âœ… ç»„ä»¶ã€å˜é‡ã€è‡ªå®šä¹‰é€‰æ‹©å™¨
- âœ… å®ƒå¯ä»¥ç”Ÿæˆå¤šä¸ªCSSæ†ç»‘åŒ…

æˆ‘ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå…³äº[Stylify CSSè§£å†³äº†å“ªäº›é—®é¢˜ï¼Œä»¥åŠä¸ºä»€ä¹ˆä½ åº”è¯¥å°è¯•ä¸€ä¸‹ï¼](/zh/docs/get-started/why-stylify-css)

## Netteå®‰è£…
å¼€å§‹ä½¿ç”¨Netteçš„æœ€ç®€å•æ–¹æ³•æ˜¯æŒ‰ç…§[æœ¬æŒ‡å—](https://doc.nette.org/zh/quickstart/getting-started)ä½¿ç”¨Composerï¼š
- è¿è¡Œ`composer create-project nette/web-project nette-blog`ã€‚
- è¿›å…¥é¡¹ç›®ç›®å½• `cd nette-log`ã€‚
- è¿è¡Œ`php -S 0.0.0.0:80 -t www`æ¥å¯åŠ¨ç½‘ç»œã€‚
- ç½‘ç«™åº”è¯¥å¯ä»¥åœ¨`http://localhost`ã€‚

## Stylify CSSè®¾ç½®
å› ä¸ºNetteé»˜è®¤æ²¡æœ‰ä»»ä½•æ†ç»‘ç¨‹åºï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•javascriptåŒ…ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Stylify CSSæ†ç»‘ç¨‹åºã€‚

å®‰è£…æ†ç»‘å™¨ `yarn add -D @stylify/bundler`ã€‚
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º`bundles.js`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```javascript
const { nativePreset } = require('@stylify/stylify');
const { Bundler } = require('@stylify/bundler');

// æ£€æµ‹è§‚å¯Ÿæ¨¡å¼
const watchFiles = process.argv[process.argv.length - 1] === '--w';
const bundler = new Bundler({
	compiler: {
		// ç”¨äºç”Ÿäº§çš„Mangleé€‰æ‹©å™¨
		mangleSelectors: !watchFiles,
		// åŒ¹é…n:classå±æ€§
		selectorsAreas: [
			'(?:^|\\s+)n:class="([^"]+)"',
			'(?:^|\\s+)n:class=\'([^\']+)\''
		]
	},
	watchFiles: watchFiles
});

bundler.bundle([
	{
		files: ['./app/Presenters/templates/@layout.latte'],
		outputFile: './www/static/css/layout.css')
	},
	{
		files: ['./app/Presenters/templates/Homepage/default.latte'],
		outputFile: './www/static/css/homepage.css'.
	}
]);
```
ä¸Šé¢çš„é…ç½®å°†äº§ç”Ÿä¸¤ä¸ªåŒ…ï¼š
- `Layout` - å…¨å±€ä½¿ç”¨
- `Homepage` - åªç”¨äºä¸»é¡µ

å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•´ä¸ªé¡¹ç›®çš„CSSç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ã€‚ä½†è¿™å°†ä½¿CSSå˜å¾—ä¸å¿…è¦çš„å¤§ã€‚

ç°åœ¨æ‰“å¼€`package.json`æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è„šæœ¬ï¼š

```javascript
"scripts": {
	"build": "node bundles.js",
	"watch": "node bundles.js --w"
}
```

æœ€åä¸€æ­¥æ˜¯ç¼–è¾‘æ¨¡æ¿ã€‚æ‰“å¼€`App/Presenters/Templates/@layout.latte`ï¼Œæ·»åŠ å¸ƒå±€CSSæ–‡ä»¶çš„é“¾æ¥ï¼š
```html
<link rel="stylesheet" href="/static/css/layout.css">
```
åœ¨`App/Presenters/Templates/Homepage/default.latte`ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```html
{block content}
<link rel="stylesheet" href="/static/css/homepage.css">
<div class="font-size:48px text-align:center">
	ä½ å¥½ï¼Œä¸–ç•Œï¼ğŸ‰
</div>
```

å¦‚æœä½ è¿è¡Œ`yarn watch`ï¼ŒStylify CSSä¼šç”ŸæˆCSSï¼Œå¹¶ä¸”ä¼šè§‚å¯Ÿä»»ä½•æ–‡ä»¶çš„å˜åŒ–ã€‚

### ç»„ä»¶
ä¸ºäº†é¿å…å®ç”¨ç¨‹åºå¸¦æ¥çš„è‡ƒè‚¿æ¨¡æ¿ï¼Œä½ å¯ä»¥åœ¨æ–‡ä»¶ä¸­ç›´æ¥é…ç½®
ç»„ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­ä½¿ç”¨[content options](/zh/docs/get-started#å®šä¹‰ä¸€ä¸ªç»„ä»¶)(æœŸæœ›æœ‰javascriptå¯¹è±¡ï¼Œæ²¡æœ‰æ‹¬å·)æˆ–åœ¨[compiler config](/zh/docs/get-started#å®šä¹‰ä¸€ä¸ªç»„ä»¶)ä¸­ä½¿ç”¨ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ·»åŠ å…¨å±€çš„`container`ç»„ä»¶ã€‚æ‰“å¼€`bundles.js`ï¼Œä»¥åŠä¸‹é¢çš„å†…å®¹ï¼š

```javascript
const compilerConfig = {
	components: {
		container: 'max-width:1024px margin:0_auto'
	}
}

const bundler = new Bundler({ /*...*/ });
```
ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨å®ƒã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠå®ƒæ·»åŠ åˆ°å¸ƒå±€ä¸­ï¼š

```html
<main class="container">{include content}</main>
```

åœ¨ä¸»é¡µä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…å®¹é€‰é¡¹ä¸ºæ ‡é¢˜æ·»åŠ ä¸€ä¸ªæœ¬åœ°ç»„ä»¶ï¼š

```html
{*
	stylify-components
		title: 'font-size:48px text-align:center'
	/stylify-components
*}

{block content}
<link rel="stylesheet" href="/static/css/homepage.css">
<div class="title">ä½ å¥½ï¼Œä¸–ç•Œ! ğŸ‰</div>
```

###å˜é‡
æ‹¥æœ‰å¹²å‡€çµæ´»çš„ä»£ç ï¼Œæ²¡æœ‰ç¡¬ç¼–ç çš„å€¼ï¼Œæ€»æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚[å˜é‡](/zh/docs/get-started#adding-a-variable)å¯ä»¥ç”¨ä¸ç»„ä»¶ç›¸åŒçš„æ–¹å¼å®šä¹‰ã€‚è®©æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹æ ‡é¢˜ç»„ä»¶ï¼š

```html
{*
	stylify-variables
		titleFontSize: '48px'
	/stylify-variables

	stylify-components
		title: 'font-size:$titleFontSize text-align:center'
	/stylify-components
*}

{block content}
{* ... *}
```

### æ˜ å°„æ–‡ä»¶
å½“ä¸€ä¸ªæ¨¡æ¿åŒ…æ‹¬ä¸€ä¸ªç»„ä»¶æˆ–ä¸€ä¸ªåµŒå¥—çš„æ¨¡æ¿éƒ¨åˆ†æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`stylify-files`é€‰é¡¹å°†å…¶æ·»åŠ åˆ°åŒ…ä¸­ã€‚

è®©æˆ‘ä»¬åœ¨`default.latte`æ—è¾¹åˆ›å»º`_content.latte`æ¨¡æ¿éƒ¨åˆ†ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```html
{*
	stylify-components
		title: 'font-size:$titleFontSize text-align:center'
	/stylify-components
*}
<div class="title">ä½ å¥½ï¼Œä¸–ç•Œ! ğŸ‰</div>
```

ç„¶å`Homepage/default.latte`ä½¿ç”¨`stylify-files`é€‰é¡¹é€šçŸ¥æ†ç»‘å™¨å…³äºå¤–éƒ¨è·¯å¾„ï¼Œè¯¥é€‰é¡¹å¸Œæœ›è·¯å¾„ç”±ç©ºæ ¼æˆ–æ–°è¡Œåˆ†éš”ï¼š
```
{*
...
stylify-files
	./_content.latte
/stylify-files
*}

{block content}
{include './_content.latte'}
```

`./_content.latte`ä¸­çš„å†…å®¹ä¼šè¢«æ†ç»‘å™¨è‡ªåŠ¨å¤„ç†ã€‚

## ğŸ”¥ ç”Ÿäº§æ„å»ºï¼š
å¦‚æœä½ è¿è¡Œ`yarn build`ï¼Œé€‰æ‹©å™¨ä¼šè¢«ç¼©å°ï¼ŒCSSä¹Ÿä¼šè¢«æœ€å°åŒ–ï¼š

`@layout.latte`ï¼š
```html
<main class="a">{include content}</main>
```

`_content.latte`ï¼š
```html
<div class="d">ä½ å¥½ï¼Œä¸–ç•Œ! ğŸ‰</div>
```

``layout.css`ï¼š
```css
.b,.a{max-width:1024px}
.c,.a{margin:0 auto}
```

`homepage.css`ï¼š
```css
:root {--titleFontSize: 48px;}
.e,.d{font-size:48px}
.f,.d{text-align:center}
```


## é…ç½®ä»»ä½•ä½ éœ€è¦çš„ä¸œè¥¿
ä¸Šé¢çš„ä¾‹å­å¹¶ä¸åŒ…æ‹¬Stylify CSSèƒ½åšçš„ä¸€åˆ‡ï¼š
- ä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­æ˜ å°„[åµŒå¥—æ–‡ä»¶](/zh/docs/bundler#files-content-option)
- æ ·å¼[å…¨å±€é€‰æ‹©å™¨](/zh/docs/stylify/compiler#customselectors)
- å®šä¹‰[è‡ªå®šä¹‰å±å¹•](/zh/docs/stylify/compiler#screens)
- æ·»åŠ [ä½ çš„å®](/zh/docs/stylify/compiler#macros)ï¼Œå¦‚`ml:20px`è¡¨ç¤º margin-leftã€‚
- è¿˜æœ‰æ›´å¤š

è¯·éšæ—¶[æŸ¥çœ‹æ–‡æ¡£](/zh/docs/get-started)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ ğŸ’ã€‚
