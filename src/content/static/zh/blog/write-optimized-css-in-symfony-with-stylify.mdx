---
title: ç”¨Stylifyåœ¨Symfonyä¸­ç¼–å†™ä¼˜åŒ–çš„CSS
image: '/images/blog/stylify-symfony/header.jpg'
ogImage: '/images/blog/stylify-symfony/og-image-v2.jpg'
author: 'VladimÃ­r MachÃ¡Äek'
annotation:  "åœç•™åœ¨Twigå’ŒPHPæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ç±»ä¼¼CSSçš„å·¥å…·æ¥è·å¾—ä¼˜åŒ–çš„CSSã€‚äº†è§£å¦‚ä½•ç”¨Stylify CSSåœ¨Symfonyç½‘ç»œåº”ç”¨ä¸­ç¼–å†™ä¼˜åŒ–çš„CSSã€‚"
createdAt: 'June 14, 2022'
---


## ä»‹ç»
[Stylify](/)æ˜¯ä¸€ä¸ªåº“ï¼Œå®ƒä½¿ç”¨ç±»ä¼¼äºCSSçš„é€‰æ‹©å™¨ï¼Œæ ¹æ®ä½ å†™çš„å†…å®¹ç”Ÿæˆä¼˜åŒ–çš„å®ç”¨ä¼˜å…ˆçš„CSSã€‚

- âœ… ç±»ä¼¼CSSçš„é€‰æ‹©å™¨
- âœ… ä¸éœ€è¦ç ”ç©¶æ¡†æ¶
- âœ… èŠ±åœ¨æ–‡æ¡£ä¸Šçš„æ—¶é—´æ›´å°‘
- âœ… çº ç»“&æå°çš„CSS
- âœ… ä¸éœ€è¦æ¸…é™¤CSS
- âœ… ç»„ä»¶ã€å˜é‡ã€è‡ªå®šä¹‰é€‰æ‹©å™¨
- âœ… å®ƒå¯ä»¥ç”Ÿæˆå¤šä¸ªCSSæ†ç»‘åŒ…

æˆ‘ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå…³äº[Stylify CSSè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œä»¥åŠä¸ºä»€ä¹ˆä½ åº”è¯¥å°è¯•ä¸€ä¸‹ï¼](/zh/docs/get-started/why-stylify-css)

## Symfonyå¿«é€Ÿè®¾ç½®ğŸš€
ä¸ºäº†æ›´å®¹æ˜“å¼€å§‹ï¼Œä½ å¯ä»¥æŸ¥çœ‹[é›†æˆå®ä¾‹](https://github.com/stylify/integrations-examples/tree/master/symfony) ğŸ®ã€‚

æœ€ç®€å•çš„å¼€å§‹æ–¹å¼æ˜¯ä½¿ç”¨Symfonyéª¨æ¶å’ŒWeb AppåŒ…ã€‚
```
composer create-project symfony/skeleton myproject/
cd myproject
composer require webapp
npm install
```

æ·»åŠ HpController `src/Controller/HpController.php`ã€‚

```php
<?php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\Routing\Annotation\Route;
use Symfony\Component\HttpFoundation\Response;

class HomeController extends AbstractController
{
	#[Route('/')]
	public function home(): Response
	{
		return $this->render('hp.html.twig');
	}
}
```

å’Œä¸»é¡µæ¨¡æ¿`templates/hp.html.twig`ã€‚
```twig
{% extends "base.html.twig" %}
{% block body %} ä½ å¥½ï¼Œä¸–ç•Œ! {% endblock %}
```

## Stylify CSSé›†æˆ

å®‰è£…Stylify CSSé€šç”¨æ’ä»¶ã€‚
```
npm i @stylify/unplugin
```

æ›´æ–° `webpack.config.js`. å¯¼å…¥Stylifyï¼Œæ·»åŠ è¯¥æ’ä»¶å’Œ`hp`æ ·å¼æ¡ç›®ã€‚

```javascript
const { stylifyWebpack } = require('@stylify/unplugin');
const path = require('path');
// ...
const layoutCssPath = './assets/styles/layout.css';
const homepageCssPath = './assets/styles/homepage.css';

Encore
	.addPlugin(stylifyWebpack({
		bundles: [
			{ outputFile: layoutCssPath, files: [
				'./templates/base.html.twig'
			]},
			{ outputFile: homepageCssPath, files: [
				'./templates/hp.html.twig'
			]}
		]
	}))
	.addStyleEntry('homepage', homepageCssPath)
	// ...
```

å°†`assets/app.js`ä¸­çš„`app.css`æ”¹ä¸º`layout.css`å¹¶å°†CSSé“¾æ¥æ·»åŠ åˆ°`hp.html.twig`ä¸­ã€‚

```twig
{% block stylesheets %}
	{{ parent() }}
	{{ encore_entry_link_tags('hp') }}
{% endblock %}
```

## å¡‘é€ ç½‘ç«™çš„é£æ ¼
è®¾ç½®å®Œæˆåï¼Œç¼–è¾‘`hp.html.twig`ã€‚
```html
<div class="color:blue">ä½ å¥½ï¼Œä¸–ç•Œ! </div>
```
å¹¶è¿è¡Œ`npm run dev`ã€‚

Stylifyä¼šæ‰¾åˆ°`color:blue`é€‰æ‹©å™¨ï¼Œå¹¶ä¸ºå…¶ç”ŸæˆCSSã€‚`.color\:blue{color:blue}`æ”¾å…¥`homepage.css`ã€‚

æœ‰äº›ä»£ç ç»å¸¸éœ€è¦åœ¨å¤šä¸ªé¡µé¢ä¸Šé‡å¤ä½¿ç”¨ã€‚é€šè¿‡å®ç”¨å·¥å…·å’Œé€‰æ‹©å™¨ä¸­çš„ç¡¬ç¼–ç å•ä½æ¥å®ç°è‡ƒè‚¿çš„æ¨¡æ¿ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚è®©æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ª`container`ç»„ä»¶å’Œä¸€äº›å˜é‡ã€‚

æ‰“å¼€`webpack.config.js`ï¼Œç¼–è¾‘Stylify CSSæ’ä»¶çš„é…ç½®ï¼š
```javascript
.addPlugin(stylifyWebpack({
	// ...
	compiler: {
		variables: {
			containerSize: '800px',
			textColor: 'blue'
		},
		components: {
			container: 'max-width:$containerSize margin:0_auto'
		}
	}
}));
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥æ›´æ–°`base.html.twig`äº†
```twig
<div class="container">{% block body %}{% endblock %}</div>
```

å’Œ `hp.html.twig`ï¼š

```twig
<div class="color:$textColor">ä½ å¥½ï¼Œä¸–ç•Œ! </div>
```

æœ‰æ—¶ï¼Œæœ‰äº›ç»„ä»¶åªåœ¨ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨ã€‚åœ¨`webpack.config.js`ä¸­å®šä¹‰å®ƒä»¬å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä½¿ç”¨çš„æ–‡ä»¶ä¸­å®šä¹‰ç»„ä»¶ã€å˜é‡ç­‰ã€‚Stylify CSSæœ‰[å†…å®¹é€‰é¡¹](/zh/docs/stylify/compiler#contentoptionsprocessors)æ¥å®ç°ã€‚

è®©æˆ‘ä»¬åœ¨`hp.html.twig`ä¸­æ·»åŠ ä¸€ä¸ªæ®µè½ç»„ä»¶ï¼š

```twig
{#
stylify-components
	'text-block': `
		font-size:16px
		margin:12px_0
		md:margin:24px_0
	`
/stylify-components
#}
...
{% block body %}
	...
	<div class="text-block">ç¬¬ä¸€æ®µæ–‡å­—</div>
	<div class="text-block">ç¬¬äºŒæ®µæ–‡å­—</div>
{% endblock %}
```

## ç”Ÿäº§æ„å»º
å½“æˆ‘ä»¬è¿è¡Œç”Ÿäº§æ„å»ºæ—¶`npm run build`ï¼ŒStylify CSSä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰è¢«è¯†åˆ«çš„é€‰æ‹©å™¨å¹¶ç”Ÿæˆä¼˜åŒ–çš„CSSã€‚

ä¼˜åŒ–åçš„`hp.html.twig`ï¼š
```twig
{% block body %}
	<div class="a">ä½ å¥½ï¼Œä¸–ç•Œ! </div>
	<div class="b">ç¬¬ä¸€ä¸ªæ–‡æœ¬</div>
	<div class="b">ç¬¬äºŒæ®µæ–‡å­—</div>
{% endblock %}
```

ä¼˜åŒ–çš„hp CSSï¼š
```css
.a{color:blue}
.e,
.b{font-size:16px}
.c,.b{margin:12px 0}
@media (min-width: 768px) {.d,.b{margin:24px 0}}
```

è¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥åœ¨[docs](/zh/docs/integrations/symfony)ä¸­æ‰¾åˆ°ã€‚

## æ›´å¤šé…ç½®
ä¸Šé¢çš„ä¾‹å­å¹¶ä¸åŒ…æ‹¬Stylify CSSèƒ½åšçš„ä¸€åˆ‡ï¼š
- ä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­æ˜ å°„[åµŒå¥—æ–‡ä»¶](/zh/docs/bundler#files-content-option)
- æ ·å¼[å…¨å±€é€‰æ‹©å™¨](/zh/docs/stylify/compiler#customselectors)
- å®šä¹‰[è‡ªå®šä¹‰å±å¹•](/zh/docs/stylify/compiler#screens)
- æ·»åŠ [ä½ çš„å®](/zh/docs/stylify/compiler#macros)ï¼Œå¦‚`ml:20px`è¡¨ç¤º margin-leftã€‚
- è¿˜æœ‰æ›´å¤š

è¯·éšæ—¶[æŸ¥çœ‹æ–‡æ¡£](/zh/docs/get-started)ä»¥äº†è§£æ›´å¤šä¿¡æ¯ ğŸ’ã€‚
